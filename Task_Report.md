智能考试系统设计分析报告

一、系统概述

（一）项目背景与目标

在数字化教育飞速发展的当下，传统考试模式的弊端日益凸显，如人工出题耗时费力、考试组织流程繁琐、阅卷效率低下且主观性强等。为了提升考试的效率、公平性与智能化水平，本智能考试系统应运而生。本系统旨在构建一套覆盖用户管理、题库建设、智能组卷、在线考试、AI 阅卷及数据分析的全流程智能考试平台。支持学生、教师、管理员三类角色协同工作，实现考试业务数字化、智能化。在技术栈的选择上，后端采用 Java 17+、Spring Boot 3、MyBatis-Plus、MySQL 8.0、Redis 等，以保障系统的高性能与可扩展性；前端采用 Vue 3、Element Plus、Tailwind CSS 等，为用户提供流畅、美观的交互体验。

（二）核心功能架构

用户中心：支持学生、教师、管理员的注册、登录（JWT 认证）、个人信息管理及密码修改。管理员可对用户、部门进行增删改查及状态管理。

题库管理：支持单选、多选、判断、简答等多种题型的录入、编辑、删除及批量导入（Excel）。具备题目难度、知识点标签管理功能。支持 AI 辅助出题，通过调用大模型接口自动生成题目。

试卷与考试：支持手动组卷与随机组卷，可设置考试时间、及格分数、防作弊配置（如切屏限制）。学生在规定时间内进行在线答题，系统自动保存答题进度，支持倒计时提醒与强制交卷。

阅卷与成绩：客观题由系统自动批改，主观题支持教师人工批改或 AI 智能批改（基于 Dify 等 AI 平台）。系统自动统计考试成绩，生成成绩单。

数据分析：提供多维度的成绩分析报表，包括班级平均分、及格率、分数段分布、最高 / 最低分等。学生可查看个人成长曲线与知识点掌握情况雷达图。

错题本：自动收录学生考试中的错题，学生可对错题进行查看、备注与移除，方便查漏补缺。

二、技术架构设计

（一）后端架构

基础框架：Spring Boot 3.x 作为核心容器，利用其自动配置特性简化开发。

数据持久层：MyBatis-Plus 配合 MySQL 8.0，实现高效的数据 CRUD 操作。使用 Druid 连接池进行数据库连接管理，提升数据库访问性能。

安全框架：Spring Security + JWT 实现无状态的身份认证与权限控制。定义 JwtAuthenticationFilter 拦截器，解析请求头中的 Token，构建安全上下文。

接口文档：集成 SpringDoc OpenAPI（Swagger 3），自动生成 RESTful API 文档，方便前后端联调。

异步处理：使用 Spring 的 @Async 注解处理耗时任务，如 AI 阅卷请求、邮件发送等，避免阻塞主线程。

工具库：集成 Hutool、Lombok、EasyExcel 等工具库，提高代码开发效率与可读性。

（二）前端架构

核心框架：Vue 3.x（Composition API）+ Vite 构建工具，实现快速开发与热更新。

UI 组件库：Element Plus + Tailwind CSS，构建响应式、现代化的用户界面。

状态管理：Pinia 管理全局状态，如用户信息、系统配置等。

路由管理：Vue Router 实现单页应用路由跳转，配合路由守卫进行权限拦截。

网络请求：封装 Axios 拦截器，统一处理请求头（Token）、响应错误及 Loading 状态。

三、数据库设计

（一）主要实体关系

用户（User）：关联部门（Dept），拥有角色（Role）。

题目（Question）：归属于题库，被试卷（Paper）引用，被答题记录（RecordDetail）关联。

试卷（Paper）：包含多个题目（通过 PaperQuestion 关联），对应多个考试发布（Publish）。

考试记录（Record）：归属于学生（User），对应一张试卷（Paper），包含多个答题详情（RecordDetail）。

错题本（MistakeBook）：关联用户（User）与题目（Question）。

（二）关键表结构设计摘要

sys_user：存储用户基本信息，字段包括 username, password, real_name, role, dept_id 等。

exam_question：存储题目信息，字段包括 type, content, options, answer, difficulty, tags 等。

exam_paper：存储试卷基本信息，字段包括 title, total_score, pass_score, duration 等。

exam_record：存储考试总览，字段包括 user_id, paper_id, total_score, status, create_time 等。

exam_record_detail：存储具体答题情况，字段包括 record_id, question_id, user_answer, score, is_correct 等。

四、核心业务流程

（一）在线考试流程

发布考试：教师创建试卷，设置考试参数（时间、班级等），发布考试任务。

参加考试：学生登录系统，在“我的考试”列表中查看到期未考任务，点击开始考试。

答题过程：前端渲染试卷，通过 LocalStorage 或后端接口定时保存答案（防断电）。系统监控切屏次数与考试剩余时间。

提交试卷：学生主动交卷或时间耗尽强制交卷。后端接收答案，计算客观题分数，生成考试记录。

主观题批改：若有主观题，状态置为“待批改”。触发异步 AI 批改任务或等待教师人工批改。

结果发布：批改完成后，计算总分，更新记录状态为“已完成”。学生可查看成绩与解析。

（二）AI 辅助流程

AI 出题：教师输入出题要求（如“生成 5 道关于 Spring Boot 的选择题，难度中等”），后端调用大模型 API，解析返回的 JSON 数据，批量存入题库。

AI 阅卷：针对简答题，将题目标准答案与学生答案发送给 AI，通过 Prompt 提示词要求 AI 给出评分与评语。后端解析 AI 返回结果，写入数据库。

五、接口设计规范

（一）通用响应结构（Result<T>）

code (Integer): 状态码，200 表示成功，非 200 表示异常。

message (String): 响应提示信息。

data (T): 业务数据载体。

（二）API 分组

/api/auth/**: 认证相关接口（登录、注册、刷新 Token）。

/api/admin/**: 系统管理接口（用户、部门管理）。

/api/question/**: 题库管理接口。

/api/paper/**: 试卷管理接口。

/api/exam/**: 学生考试相关接口。

/api/analysis/**: 统计分析接口。

六、非功能性需求与部署

（一）性能优化

Redis 缓存：缓存热点试卷数据、用户信息、系统配置，减少数据库 IO。

SQL 优化：为查询高频字段（如 user_id, paper_id）建立索引。避免 N+1 查询问题。

静态资源分离：前端打包资源部署至 Nginx 或 CDN，后端仅提供 API 服务。

（二）安全性

密码加密：使用 BCryptPasswordEncoder 对用户密码进行加密存储。

防作弊：前端全屏模式、切屏监听、禁止复制粘贴；后端校验提交时间、IP 限制（可选）。

数据隔离：利用 MyBatis-Plus 拦截器或业务逻辑层确保用户只能访问自己权限内的数据。

（三）异常处理与日志

全局异常处理：使用 @RestControllerAdvice + @ExceptionHandler 捕获业务异常与系统异常，返回统一格式的错误信息。

AOP 日志：自定义 @Log 注解与切面，记录关键操作（如发布考试、删除数据）的操作人、IP、参数及耗时，便于审计与排查问题。

（四）监控与告警

使用 Prometheus + Grafana 对服务器资源（CPU、内存、磁盘）及 JVM 状态进行监控。设定阈值，当 CPU 使用率持续超过 80% 或堆内存占用过高时，通过邮件或钉钉机器人发送告警，保障系统高可用。
当 CPU 使用率持续过高时，说明系统的负载较高，可能会影响系统的性能和稳定性，此时触发告警通知运维团队，运维团队可以及时采取措施，如增加服务器资源、优化代码等，来降低服务器的负载。当 Redis 连接数异常时，可能会导致缓存服务不可用，影响系统的性能，此时也会触发告警通知运维团队，运维团队可以检查 Redis 集群的状态，修复连接问题，确保缓存服务的正常运行。通过邮件或钉钉等方式通知运维团队，确保告警信息能够及时传达给相关人员，以便及时处理问题，保障系统的稳定运行。

七、质量与安全保障

（一）测试体系

单元测试：使用 JUnit 5 对后端服务层逻辑进行全面测试，例如针对 JWT 生成 / 解析功能，编写测试用例验证生成的 Token 是否符合规范，解析 Token 时能否准确提取用户信息。对于 BCrypt 密码校验，测试不同密码的加密与校验过程，确保密码安全存储和验证的准确性。在前端，运用 Vue Test Utils 测试前端组件交互，如登录组件的输入框验证、按钮点击逻辑，以及菜单组件的动态显示与切换功能，保证组件在各种情况下的正常运行。

集成测试：借助 Postman 对接口串联流程进行严格测试，模拟用户登录成功后，依次进行创建课程、上传题库、发布考试等操作，检查各个接口之间的数据传递和业务逻辑是否正确，确保模块间协作正常，系统能够按照预期流程运行。

性能测试：采用 JMeter 模拟 500 + 并发用户进行登录、组卷、交卷等操作，收集系统的响应时间、吞吐量等性能指标数据。针对测试中发现的慢 SQL，如 exam_paper_question 联表查询，通过

（二）最近更新记录

阶段 6.1：统计分析后端接口

已完成 AnalysisController 开发，包含学生知识点雷达图、教师仪表盘统计、考试详细分析接口。

已完成 MistakeBookController 开发，支持错题本的分页查询（含题目详情）与移除功能。

接口已移除 Swagger 依赖，符合项目规范。

阶段 6.2：消息与成绩单前端

消息中心：实现了 Notification 组件，包含悬浮下拉、未读标记、消息列表。

成绩单页面：实现了 ExamResult.vue，包含顶部渐变 Banner、ECharts 知识点雷达图、以及带红绿高亮的错题解析功能。

阶段 6.3：综合看板与错题本

教师分析看板 (Analysis.vue)：实现了考试筛选、核心指标卡片、ECharts 柱状图/雷达图及错题 TOP10 表格。

教师工作台 (Dashboard.vue)：实现了现代化的欢迎 Banner、快捷操作入口及数据概览，布局清晰。

学生错题本 (MistakeBook.vue)：采用瀑布流 Grid 布局展示错题卡片，支持展开查看详细解析与移除功能。